{% extends 'adminpanel/base_admin.html' %}
{% block admin_content %}
<div class="d-flex justify-content-between align-items-center mb-2">
  <h4 class="mb-0">Foods</h4>
  <a href="{% url 'adminpanel:food_create' %}" class="btn btn-sm border" 
   style="background-color: #FFC107; color: #000;"
   onmouseover="this.style.backgroundColor='white'; this.style.color='#000';"
   onmouseout="this.style.backgroundColor='#FFC107'; this.style.color='#000';">
  <i class="fas fa-plus"></i>
</a>


</div>
<div class="card p-0">
  <table class="table table-dark table-striped mb-0">
    <thead><tr><th>Name</th><th>Allergens</th><th width="140">Actions</th></tr></thead>
    <tbody>
      {% for f in foods %}
      <tr>
        <td>{{ f.name }}</td>
        <td>{% for a in f.allergens.all %}{{ a.name }}{% if not forloop.last %}, {% endif %}{% empty %}-{% endfor %}</td>
        <td>
          <a href="{% url 'adminpanel:food_edit' f.pk %}" class="btn btn-sm btn-light border">Edit</a>
          <a href="{% url 'adminpanel:food_delete' f.pk %}" class="btn btn-sm btn-outline-danger">Delete</a>
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="3" class="text-muted">No foods yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
